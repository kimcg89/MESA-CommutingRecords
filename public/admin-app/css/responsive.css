/* 반응형 디자인 스타일 - 2025.08.20 16:05 완성 */

/* ==================== 태블릿 (최대 1200px) ==================== */
@media (max-width: 1200px) {
    .main-content {
        margin-left: 280px;
        padding: 15px;
    }
    
    .nav-menu-grid {
        grid-template-columns: 1fr 1fr;
        gap: 6px;
    }
    
    .nav-link-grid {
        padding: 12px 8px;
        font-size: 0.8rem;
    }
}

/* ==================== 모바일 (최대 768px) ==================== */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.open {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
        padding: 10px;
    }
    
    .sidebar-header {
        padding: 20px;
    }
    
    .sidebar-header h1 {
        font-size: 1.25rem;
    }
    
    .user-controls {
        padding: 0 20px;
    }
    
    .user-menu {
        padding: 0 20px;
    }
    
    .user-item {
        padding: 8px 10px;
        margin-left: 10px;
    }
    
    .user-avatar {
        width: 32px;
        height: 32px;
        font-size: 13px;
    }
    
    .user-name {
        font-size: 13px;
    }
    
    .user-position {
        font-size: 11px;
    }
    
    .user-duty {
        font-size: 10px;
    }
    
    .member-filter-checkbox {
        width: 16px;
        height: 16px;
    }
    
    .department-header,
    .sub-department-header {
        padding: 8px 10px;
        margin-left: 5px;
    }
    
    .department-name {
        font-size: 13px;
    }
    
    .search-box input {
        padding: 8px 35px 8px 10px;
        font-size: 13px;
    }
    
    .form-row-2 {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    .login-container, .signup-container, .reset-password-container {
        padding: 0 15px;
    }
    
    .filter-status {
        padding: 8px 10px;
    }
    
    .filter-active {
        flex-direction: column;
        gap: 8px;
        align-items: flex-start;
    }
    
    .clear-filter-btn {
        align-self: flex-end;
    }

    /* 네비게이션 메뉴 반응형 */
    .nav-menu-grid {
        grid-template-columns: 1fr 1fr;
        gap: 6px;
    }

    .nav-link-grid {
        padding: 12px 8px;
        font-size: 0.8rem;
    }
}

/* ==================== 소형 모바일 (최대 480px) ==================== */
@media (max-width: 480px) {
    .sidebar {
        width: 260px;
    }
    
    .sidebar-header {
        padding: 15px;
    }
    
    .sidebar-header h1 {
        font-size: 1.1rem;
    }
    
    .user-controls {
        padding: 0 15px;
    }
    
    .user-menu {
        padding: 0 15px;
    }
    
    .user-avatar {
        width: 28px;
        height: 28px;
        font-size: 12px;
    }
    
    .user-name {
        font-size: 12px;
    }
    
    .department-header,
    .sub-department-header {
        padding: 6px 8px;
        font-size: 12px;
    }
    
    .boss-badge,
    .key-manager-badge,
    .current-user-badge {
        font-size: 14px;
    }

    .nav-link-grid {
        padding: 8px 4px;
        font-size: 0.75rem;
    }
    
    .main-content {
        padding: 8px;
    }
}

/* ==================== 인쇄 스타일 ==================== */
@media print {
    .member-controls,
    .search-box,
    .filter-status,
    .logout-btn-icon,
    .clear-filter-btn,
    .nav-menu-grid {
        display: none !important;
    }
    
    .user-item {
        background: none !important;
        border: 1px solid #ccc !important;
    }
    
    .department-header,
    .sub-department-header {
        background: #f5f5f5 !important;
        color: #000 !important;
    }
    
    .sidebar {
        position: static !important;
        width: 100% !important;
        height: auto !important;
        box-shadow: none !important;
    }
    
    .main-content {
        margin-left: 0 !important;
    }
}

/* ==================== 고대비 모드 지원 ==================== */
@media (prefers-contrast: high) {
    .user-item,
    .department-header,
    .sub-department-header {
        border: 2px solid #000 !important;
    }
    
    .user-avatar {
        border: 2px solid #000;
    }
    
    .btn {
        border: 2px solid #000 !important;
    }
}

/* ==================== 움직임 줄이기 모드 지원 ==================== */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    .user-item:hover {
        transform: none !important;
    }
    
    .btn:hover {
        transform: none !important;
    }
}

/* =================================================================
   Worktime 완전 반응형 CSS - 2025.08.20 16:05 완성
   근무건수 분석과 일자별 상세 현황 영역 최적화
   ================================================================= */

/* 기본 데이터 컨테이너 레이아웃 */
.worktime-data-container {
  display: flex;
  gap: 20px;
  margin-top: 20px;
  width: 100%;
  min-height: 400px;
}

/* 차트 컨테이너 */
.worktime-chart-container {
  flex: 1;
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  min-width: 0; /* flex item의 최소 너비 제한 해제 */
}

/* 테이블 컨테이너 */
.worktime-table-container {
  flex: 1;
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  min-width: 0; /* flex item의 최소 너비 제한 해제 */
}

/* 섹션 제목 */
.worktime-section-title {
  margin: 0 0 15px 0;
  font-size: 1.2rem;
  font-weight: 600;
  color: #1f2937;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 8px;
}

/* 차트 캔버스 반응형 */
#worktime-chart {
  max-width: 100%;
  height: auto !important;
  min-height: 300px;
  max-height: 400px;
}

/* =================================================================
   테이블 완전 반응형 - 가로 스크롤 제거
   ================================================================= */

/* 테이블 래퍼 - 가로 스크롤 제거, 세로 스크롤만 */
.table-wrapper {
  overflow-x: hidden; /* 가로 스크롤 완전 제거 */
  overflow-y: auto; /* 세로 스크롤만 허용 */
  max-height: 400px; /* 최대 높이 설정으로 세로 스크롤 활성화 */
  margin: 0;
}

/* 테이블 기본 스타일 - 반응형 */
.worktime-data-table {
  width: 100%; /* 컨테이너에 맞춰 100% */
  border-collapse: collapse;
  font-size: 0.9rem;
  table-layout: fixed; /* 고정 레이아웃으로 열 너비 제어 */
}

/* 테이블 열 너비 자동 조절 */
.worktime-data-table th,
.worktime-data-table td {
  padding: 8px 4px; /* 좌우 패딩 줄임 */
  text-align: left;
  border-bottom: 1px solid #e5e7eb;
  word-wrap: break-word; /* 긴 텍스트 줄바꿈 */
  overflow: hidden;
  text-overflow: ellipsis; /* 길면 ... 표시 */
}

/* 각 열 너비 비율 설정 (총 100%) */
.worktime-data-table th:nth-child(1),
.worktime-data-table td:nth-child(1) {
  width: 15%; /* 날짜 */
  min-width: 60px;
}

.worktime-data-table th:nth-child(2),
.worktime-data-table td:nth-child(2) {
  width: 12%; /* 구분 */
  min-width: 50px;
}

.worktime-data-table th:nth-child(3),
.worktime-data-table td:nth-child(3) {
  width: 25%; /* 직원명 */
  min-width: 80px;
}

.worktime-data-table th:nth-child(4),
.worktime-data-table td:nth-child(4) {
  width: 20%; /* GPS 건수 */
  min-width: 70px;
  text-align: center;
}

.worktime-data-table th:nth-child(5),
.worktime-data-table td:nth-child(5) {
  width: 28%; /* 이동거리 */
  min-width: 80px;
  text-align: right;
}

.worktime-data-table th {
  background-color: #f9fafb;
  font-weight: 600;
  position: sticky;
  top: 0;
  z-index: 10;
}

/* =================================================================
   태블릿 크기 (1024px 이하)
   ================================================================= */
@media (max-width: 1024px) {
  .worktime-data-container {
    flex-direction: column;
    gap: 15px;
  }
  
  .worktime-chart-container,
  .worktime-table-container {
    flex: none;
    width: 100%;
  }
  
  .worktime-section-title {
    font-size: 1.1rem;
  }
  
  #worktime-chart {
    max-height: 350px;
    min-height: 250px;
  }
  
  .worktime-data-table {
    font-size: 0.85rem;
  }
  
  .worktime-data-table th,
  .worktime-data-table td {
    padding: 6px 3px;
  }
  
  /* 태블릿에서 열 너비 재조정 */
  .worktime-data-table th:nth-child(1),
  .worktime-data-table td:nth-child(1) {
    width: 18%; /* 날짜 */
  }
  
  .worktime-data-table th:nth-child(2),
  .worktime-data-table td:nth-child(2) {
    width: 15%; /* 구분 */
  }
  
  .worktime-data-table th:nth-child(3),
  .worktime-data-table td:nth-child(3) {
    width: 25%; /* 직원명 */
  }
  
  .worktime-data-table th:nth-child(4),
  .worktime-data-table td:nth-child(4) {
    width: 18%; /* GPS 건수 */
  }
  
  .worktime-data-table th:nth-child(5),
  .worktime-data-table td:nth-child(5) {
    width: 24%; /* 이동거리 */
  }
}

/* =================================================================
   모바일 크기 (768px 이하)
   ================================================================= */
@media (max-width: 768px) {
  .worktime-data-container {
    gap: 12px;
    margin-top: 15px;
  }
  
  .worktime-chart-container,
  .worktime-table-container {
    padding: 15px;
    border-radius: 6px;
  }
  
  .worktime-section-title {
    font-size: 1rem;
    margin-bottom: 12px;
  }
  
  #worktime-chart {
    max-height: 300px;
    min-height: 200px;
  }
  
  .table-wrapper {
    max-height: 350px; /* 모바일에서 테이블 높이 조정 */
  }
  
  .worktime-data-table {
    font-size: 0.8rem;
  }
  
  .worktime-data-table th,
  .worktime-data-table td {
    padding: 5px 2px;
  }
  
  /* 모바일에서 열 너비 최적화 */
  .worktime-data-table th:nth-child(1),
  .worktime-data-table td:nth-child(1) {
    width: 20%; /* 날짜 */
    font-size: 0.75rem;
  }
  
  .worktime-data-table th:nth-child(2),
  .worktime-data-table td:nth-child(2) {
    width: 15%; /* 구분 */
    font-size: 0.7rem;
  }
  
  .worktime-data-table th:nth-child(3),
  .worktime-data-table td:nth-child(3) {
    width: 25%; /* 직원명 */
  }
  
  .worktime-data-table th:nth-child(4),
  .worktime-data-table td:nth-child(4) {
    width: 18%; /* GPS 건수 */
  }
  
  .worktime-data-table th:nth-child(5),
  .worktime-data-table td:nth-child(5) {
    width: 22%; /* 이동거리 */
    font-size: 0.75rem;
  }
}

/* =================================================================
   작은 모바일 크기 (480px 이하)
   ================================================================= */
@media (max-width: 480px) {
  .worktime-data-container {
    gap: 10px;
    margin-top: 12px;
  }
  
  .worktime-chart-container,
  .worktime-table-container {
    padding: 12px;
  }
  
  .worktime-section-title {
    font-size: 0.95rem;
    margin-bottom: 10px;
  }
  
  #worktime-chart {
    max-height: 250px;
    min-height: 180px;
  }
  
  .table-wrapper {
    max-height: 300px;
  }
  
  .worktime-data-table {
    font-size: 0.75rem;
  }
  
  .worktime-data-table th,
  .worktime-data-table td {
    padding: 4px 1px;
  }
  
  /* 작은 모바일에서 컴팩트한 열 배치 */
  .worktime-data-table th:nth-child(1),
  .worktime-data-table td:nth-child(1) {
    width: 22%; /* 날짜 */
  }
  
  .worktime-data-table th:nth-child(2),
  .worktime-data-table td:nth-child(2) {
    width: 15%; /* 구분 */
  }
  
  .worktime-data-table th:nth-child(3),
  .worktime-data-table td:nth-child(3) {
    width: 23%; /* 직원명 */
  }
  
  .worktime-data-table th:nth-child(4),
  .worktime-data-table td:nth-child(4) {
    width: 20%; /* GPS 건수 */
  }
  
  .worktime-data-table th:nth-child(5),
  .worktime-data-table td:nth-child(5) {
    width: 20%; /* 이동거리 */
  }
}

/* =================================================================
   Chart.js 반응형 보조 스타일
   ================================================================= */
.worktime-chart-container canvas {
  position: relative !important;
  width: 100% !important;
  height: auto !important;
}

/* 차트 로딩 상태 */
.worktime-chart-container.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  color: #6b7280;
}

.worktime-chart-container.loading::before {
  content: "차트 로딩 중...";
  font-size: 0.9rem;
}

/* =================================================================
   테이블 스크롤 스타일링 (세로 스크롤만)
   ================================================================= */
.table-wrapper::-webkit-scrollbar {
  width: 8px; /* 세로 스크롤바만 */
}

.table-wrapper::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.table-wrapper::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.table-wrapper::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* =================================================================
   애니메이션 효과 (부드러운 전환)
   ================================================================= */
.worktime-data-container,
.worktime-chart-container,
.worktime-table-container {
  transition: all 0.3s ease-in-out;
}

#worktime-chart {
  transition: all 0.2s ease-in-out;
}

.worktime-data-table {
  transition: font-size 0.2s ease-in-out;
}